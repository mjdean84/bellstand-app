(this["webpackJsonpbell-app"]=this["webpackJsonpbell-app"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(4),c=a.n(r),s=(a(14),a(2)),m=a(1),o=a(5),i=a(7),u=a(6),d=a(8),f=(a(15),function(e){return l.a.createElement("section",null,l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"text-center my-3 display-3"},"Staff"),l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name:"),l.a.createElement("input",{type:"text",className:"form-control",id:"lastName",placeholder:"Last Name"}),l.a.createElement("label",{id:"lastNameValidator",htmlFor:"lastName",className:"text-danger d-none"},"*Required"))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"firstName"},"First Name:"),l.a.createElement("input",{type:"text",className:"form-control",id:"firstName",placeholder:"First Name"}),l.a.createElement("label",{id:"firstNameValidator",htmlFor:"firstName",className:"text-danger d-none"},"*Required"))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"position"},"Position:"),l.a.createElement("input",{type:"text",className:"form-control",id:"position",placeholder:"Position"}),l.a.createElement("label",{id:"positionValidator",htmlFor:"position",className:"text-danger d-none"},"*Required")))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.click},"Clock In")))}),E=function e(t,a,n){Object(m.a)(this,e),this.lastName=t,this.firstName=a,this.position=n,this.status="Available",this.active="false",this.fronts=0},b=function(e){return l.a.createElement("tr",{className:"text-capitalize",onClick:e.click,active:e.active},l.a.createElement("td",null,e.lastName),l.a.createElement("td",null,e.firstName),l.a.createElement("td",null,e.position),l.a.createElement("td",null,e.status))},p=function(e){var t=function(e,t){return"startBreak"===e?"Available"!==t:"endBreak"===e?"On Break"!==t:"exitQueue"===e?"Available"!==t:"clockOut"===e?"Available"!==t:void 0},a=function(e,t){return"exitQueue"===e?"Away"===t:"enterQueue"===e?"Away"!==t:void 0};return l.a.createElement("section",{className:e.className},l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"bg-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"First Name"),l.a.createElement("th",null,"Position"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",{className:"bg-white"},e.bellmen.map((function(t,a){return l.a.createElement(b,{lastName:t.lastName,firstName:t.firstName,position:t.position,status:t.status,key:a,click:function(){return e.click(a)},active:t.active})})))),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-secondary m-3",onClick:function(){return e.staffButtonClick("startBreak")},disabled:t("startBreak",e.status)},"Start Break"),l.a.createElement("button",{className:"btn btn-secondary m-3",onClick:function(){return e.staffButtonClick("endBreak")},disabled:t("endBreak",e.status)},"End Break"),l.a.createElement("button",{className:"btn btn-secondary m-3",onClick:function(){return e.staffButtonClick("exitQueue")},disabled:t("exitQueue",e.status),hidden:a("exitQueue",e.status)},"Exit Queue"),l.a.createElement("button",{className:"btn btn-secondary m-3",onClick:function(){return e.staffButtonClick("enterQueue")},hidden:a("enterQueue",e.status)},"Enter Queue"),l.a.createElement("button",{className:"btn btn-secondary m-3",onClick:function(){return e.staffButtonClick("clockOut")},disabled:t("clockOut",e.status)},"Clock Out"))))},h=function(e){for(var t=null,a=!1,n=0;n<e.bellmen.length;n++)"Available"!==e.bellmen[n].status&&"busy"!==e.bellmen.status||(a=!0);return!1===a&&(t=l.a.createElement("p",{className:"text-center"},"*No available bellmen")),l.a.createElement("div",null,l.a.createElement("div",{className:"modal",id:"assignModal"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h2",{className:"modal-title"},"Assign Front"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("table",{className:"table text-capitalize"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"First Name"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,e.bellmen.map((function(t,a){return"Available"===t.status||"Busy"===t.status?l.a.createElement("tr",{key:a,onClick:function(){return e.bellmanClick(a)},active:t.active},l.a.createElement("td",null,t.lastName),l.a.createElement("td",null,t.firstName),l.a.createElement("td",null,t.status)):null})))),t,l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-success m-3",onClick:function(){return e.assignBtn("assign")},"data-dismiss":"modal"},"Assign"),l.a.createElement("button",{className:"btn btn-danger m-3","data-dismiss":"modal","data-toggle":"modal","data-target":"#confirmCancelModal"},"Cancel Front")))))),l.a.createElement("div",{className:"modal",id:"confirmCancelModal"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-body text-center"},l.a.createElement("h1",{className:"m-5"},"Are you sure you want to cancel this front?"),l.a.createElement("button",{className:"btn btn-lg btn-success m-3",onClick:e.confirmCancel,"data-dismiss":"modal"},"Yes"),l.a.createElement("button",{className:"btn btn-lg btn-danger m-3","data-dismiss":"modal"},"No"))))))},N=function(e){var t=null;return t="Check In"===e.frontInputs.type?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"ticketNumber"},"Ticket:"),l.a.createElement("input",{type:"text",className:"form-control",id:"ticketNumber",placeholder:"Ticket #",onChange:function(t){return e.frontInputsHandler("ticket",t.target.value)}}),l.a.createElement("p",{className:"text-danger"},e.frontInputs.ticketError)))):null,l.a.createElement("form",{id:"frontForm"},l.a.createElement("div",{className:"modal",id:"frontModal"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h2",{className:"modal-title"},"Add Front"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"checkInRadio",name:"frontType",value:"Check In",onChange:function(){return e.typeSelect("Check In")}}),"Check In")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"checkOutRadio",name:"frontType",value:"Check Out",onChange:function(){return e.typeSelect("Check Out")}}),"Check Out")),l.a.createElement("p",{className:"text-danger"},e.frontInputs.typeError),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"frontRoom"},"Room:"),l.a.createElement("input",{type:"number",className:"form-control",id:"frontRoom",placeholder:"Room #",onChange:function(t){return e.frontInputsHandler("room",t.target.value)},value:e.frontInputs.room}),l.a.createElement("p",{className:"text-danger"},e.frontInputs.roomError))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"frontName"},"Last Name:"),l.a.createElement("input",{type:"text",className:"form-control",id:"frontName",placeholder:"Last Name",onChange:function(t){return e.frontInputsHandler("name",t.target.value)},value:e.frontInputs.name}),l.a.createElement("p",{className:"text-danger"},e.frontInputs.nameError)))),t,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"frontComment"},"Comment:"),l.a.createElement("textarea",{className:"form-control",id:"frontComment",rows:"2",placeholder:"Comment...",onChange:function(t){return e.frontInputsHandler("comment",t.target.value)},value:e.frontInputs.comment})))),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"eliteRadio",name:"frontElite",value:"Elite",onChange:function(t){return e.frontInputsHandler("elite",t.target.value)}}),"Elite")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"platinumRadio",name:"frontElite",value:"Platinum",onChange:function(t){return e.frontInputsHandler("elite",t.target.value)}}),"Platinum")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"titaniumRadio",name:"frontElite",value:"Titanium",onChange:function(t){return e.frontInputsHandler("elite",t.target.value)}}),"Titanium")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"ambassadorRadio",name:"frontElite",value:"Ambassador",onChange:function(t){return e.frontInputsHandler("elite",t.target.value)}}),"Ambassador")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",name:"frontElite",value:"",onChange:function(t){return e.frontInputsHandler("elite",t.target.value)},defaultChecked:!0}),"None"))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-success form-control",onClick:function(){return e.click("","","","","")},"data-dismiss":"modal"},"Dispatch"))))))},v=function(e){return l.a.createElement("section",null,l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"display-3 text-center"},"Fronts"),l.a.createElement("hr",null),l.a.createElement("button",{className:"btn btn-primary",id:"addFrontBtn","data-toggle":"modal","data-target":"#frontModal"},"Add Front"),l.a.createElement("section",{className:e.className},l.a.createElement("h1",null,"Pending"),l.a.createElement("table",{className:"table table-hover text-capitalize"},l.a.createElement("thead",{className:"bg-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Time"),l.a.createElement("th",null,"Room"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Ticket"),l.a.createElement("th",null,"Comment"),l.a.createElement("th",null,"Elite"))),l.a.createElement("tbody",{className:"bg-white"},e.fronts.map((function(t,a){var n=Math.floor((e.currentTime.getTime()-t.time.getTime())/1e3/60);return n<0&&(n=0),"Pending"===t.status?l.a.createElement("tr",{key:t.time,"data-toggle":"modal","data-target":"#assignModal",onClick:function(){return e.frontClick(a)}},l.a.createElement("td",{id:t.time},n),l.a.createElement("td",null,t.room),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.type),l.a.createElement("td",null,t.ticket),l.a.createElement("td",null,t.comment),l.a.createElement("td",null,t.eliteStatus)):null}))))),l.a.createElement("section",null,l.a.createElement("div",{className:e.className},l.a.createElement("h1",null,"Assigned"),l.a.createElement("table",{className:"table table-hover text-capitalize"},l.a.createElement("thead",{className:"bg-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Time"),l.a.createElement("th",null,"Bellman"),l.a.createElement("th",null,"Room"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Ticket"),l.a.createElement("th",null,"Comment"),l.a.createElement("th",null,"Elite"))),l.a.createElement("tbody",{className:"bg-white"},e.fronts.map((function(t,a){if("Assigned"===t.status){var n=Math.floor((e.currentTime.getTime()-t.time.getTime())/1e3/60);n<0&&(n=0);var r=t.bellman.firstName+" "+t.bellman.lastName;return l.a.createElement("tr",{key:t.time,"data-toggle":"modal","data-target":"#completeModal",onClick:function(){return e.frontClick(a)}},l.a.createElement("td",{id:t.time},n),l.a.createElement("td",null,r),l.a.createElement("td",null,t.room),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.type),l.a.createElement("td",null,t.ticket),l.a.createElement("td",null,t.comment),l.a.createElement("td",null,t.eliteStatus))}return null})))))),l.a.createElement("div",{className:"modal",id:"completeModal"},l.a.createElement("div",{className:"modal-dialog p-5"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-body text-center"},l.a.createElement("h1",null,"Complete?"),l.a.createElement("button",{className:"btn btn-lg btn-success m-3",onClick:e.confirmCancel,"data-dismiss":"modal"},"Yes"),l.a.createElement("button",{className:"btn btn-lg btn-danger m-3","data-dismiss":"modal"},"No"),l.a.createElement("button",{className:"btn btn-lg btn-info m-3",onClick:function(){return e.assignFront("pending")},"data-dismiss":"modal"},"Pending"))))),l.a.createElement(N,{click:e.click,typeSelect:e.typeSelect,frontInputs:e.frontInputs,frontInputsHandler:e.frontInputsHandler}),l.a.createElement(h,{bellmen:e.bellmen,bellmanClick:e.bellmanClick,assignBtn:e.assignFront,confirmCancel:e.confirmCancel})))},k=function e(t,a,n,l,r,c){Object(m.a)(this,e),this.type=t,this.room=a,this.name=n,this.ticket=l,this.comment=r,this.eliteStatus=c,this.time=new Date,this.bellman=null,this.status="Pending"},g=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={currentTime:new Date,bellmen:[],activeIndex:"",activeStatus:"",fronts:[],activeFront:null,frontInputs:{type:"",room:"",name:"",ticket:"",comment:"",elite:"",typeError:"",roomError:"",nameError:"",ticketError:""},completedFronts:[]},a.clockInHandler=function(){var e=document.getElementById("lastName").value,t=document.getElementById("firstName").value,n=document.getElementById("position").value;if(""===e||""===t||""===n)""===e?document.getElementById("lastNameValidator").classList.remove("d-none"):document.getElementById("lastNameValidator").classList.add("d-none"),""===t?document.getElementById("firstNameValidator").classList.remove("d-none"):document.getElementById("firstNameValidator").classList.add("d-none"),""===n?document.getElementById("positionValidator").classList.remove("d-none"):document.getElementById("positionValidator").classList.add("d-none");else{var l=a.state.bellmen;l.push(new E(e,t,n)),a.setState({bellmen:l}),document.getElementById("lastNameValidator").classList.add("d-none"),document.getElementById("firstNameValidator").classList.add("d-none"),document.getElementById("positionValidator").classList.add("d-none"),document.getElementById("lastName").value="",document.getElementById("firstName").value="",document.getElementById("position").value=""}},a.showStaffTable=function(e){return 0===e.length?"d-none":"d-block"},a.showFrontsTable=function(e){return 0===e.length?"d-none":"d-block"},a.employeeClickHandler=function(e){a.state.bellmen.forEach((function(e){e.active="false"}));var t=Object(s.a)(a.state.bellmen);t[e].active="true";var n=e,l=a.state.bellmen[e].status;a.setState({bellmen:t,activeIndex:n,activeStatus:l})},a.statusHandler=function(e){var t=a.state.activeStatus,n=a.state.activeIndex,l=Object(s.a)(a.state.bellmen);if("startBreak"===e)t="On Break";else if("endBreak"===e)t="Available";else if("exitQueue"===e)t="Away";else if("enterQueue"===e)t="Available";else if("busy"===e)t="Busy";else if("clockOut"===e){l.splice(n,1),n="";return void a.setState({bellmen:l,activeStatus:"",activeIndex:n})}l[n].status=t;var r=t;a.setState({bellmen:l,activeStatus:r,activeIndex:n})},a.frontInputsHandler=function(e,t){var n=a.state.frontInputs;"room"===e?(n.room=t,a.setState({frontInputs:n})):"name"===e?(n.name=t,a.setState({frontInputs:n})):"ticket"===e?(n.ticket=t,a.setState({frontInputs:n})):"comment"===e?(n.comment=t,a.setState({frontInputs:n})):"elite"===e&&(n.elite=t,a.setState({frontInputs:n}))},a.validate=function(e){return""===e.type||""===e.room||""===e.name||"Check In"===e.type&&""===e.ticket},a.addFrontHandler=function(){var e=a.state.frontInputs;if(a.validate(e))""===e.type&&(e.typeError="*Required"),""===e.room&&(e.roomError="*Required"),""===e.name&&(e.nameError="*Required"),"Check In"===e.type&&""===e.ticket&&(e.ticketError="*Required"),a.setState({frontInputs:e}),document.getElementById("addFrontBtn").click();else{var t=new k(e.type,e.room,e.name,e.ticket,e.comment,e.elite),n=[].concat(Object(s.a)(a.state.fronts),[t]);a.setState({fronts:n}),e.room="",e.name="",e.ticket="",e.comment="",e.elite="",e.typeError="",e.roomError="",e.nameError="",e.ticketError="",a.setState({frontInputs:e}),document.getElementById("frontForm").reset()}},a.typeSelectHandler=function(e){var t=a.state.frontInputs;t.type=e,a.setState({frontInputs:t})},a.frontClickHandler=function(e){var t=Object(s.a)(a.state.fronts)[e];a.state.bellmen.forEach((function(e){e.active="false"}));var n=Object(s.a)(a.state.bellmen);a.setState({bellmen:n,activeFront:t,activeIndex:"",activeStatus:""})},a.assignHandler=function(e){var t=a.state.activeFront,n=a.state.fronts,l=a.state.bellmen,r=l[a.state.activeIndex],c=n.indexOf(t),s=l.indexOf(t.bellman);""!==a.state.activeIndex&&"assign"===e?(n.splice(c,1),t.status="Assigned",t.bellman=r,n.push(t),l[a.state.activeIndex].fronts++,l[a.state.activeIndex].status="Busy",l.forEach((function(e){e.active="false"})),a.setState({activeFront:t,fronts:n,bellmen:l,activeStatus:""})):"pending"===e?(n.splice(c,1),t.status="Pending",t.bellman="",n.push(t),l[s].fronts--,0===l[s].fronts&&(l[s].status="Available"),a.setState({activeFront:t,fronts:n,bellmen:l})):alert("Select a bellman to assign")},a.completeFrontHandler=function(){var e=a.state.activeFront,t=a.state.fronts,n=t.indexOf(e),l=a.state.completedFronts;if(t.splice(n,1),"Assigned"===e.status){var r=a.state.bellmen,c=r.indexOf(e.bellman),s=r[c];s.fronts--,"Busy"===s.status&&0===s.fronts&&(s.status="Available"),r[c]=s,l.push(e),a.setState({bellmen:r,completedFronts:l})}a.setState({fronts:t})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"setCurrentTime",value:function(){this.setState({currentTime:new Date})}},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.setCurrentTime()}),3e3)}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(v,{className:this.showFrontsTable(this.state.fronts),fronts:this.state.fronts,click:this.addFrontHandler,frontClick:this.frontClickHandler,bellmen:this.state.bellmen,typeSelect:this.typeSelectHandler,frontInputs:this.state.frontInputs,frontInputsHandler:this.frontInputsHandler,bellmanClick:this.employeeClickHandler,assignFront:this.assignHandler,confirmCancel:this.completeFrontHandler,currentTime:this.state.currentTime}),l.a.createElement(f,{click:this.clockInHandler}),l.a.createElement(p,{className:this.showStaffTable(this.state.bellmen),bellmen:this.state.bellmen,click:this.employeeClickHandler,status:this.state.activeStatus,staffButtonClick:this.statusHandler}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.36083be8.chunk.js.map