(this["webpackJsonpbell-app"]=this["webpackJsonpbell-app"]||[]).push([[0],{21:function(e,t,a){e.exports=a(45)},26:function(e,t,a){},27:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),c=a.n(r),s=(a(26),a(4)),o=a(1),m=a(3),i=a(16),u=a(19),d=a(17),f=a(20),E=(a(27),function(e){return l.a.createElement("tr",{className:"text-capitalize",onClick:e.click,active:e.active},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.position),l.a.createElement("td",null,e.timeIn),l.a.createElement("td",null,e.statusUpdated),l.a.createElement("td",null,e.status))}),p=function(e){var t=function(e,t){return"startBreak"===e?"Available"!==t:"endBreak"===e?"On Break"!==t:"exitQueue"===e?"Available"!==t:"clockOut"===e?"Available"!==t:void 0},a=function(e,t){return"exitQueue"===e?"Away"===t:"enterQueue"===e?"Away"!==t:void 0};return l.a.createElement("div",{className:e.className},l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"bg-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Position"),l.a.createElement("th",null,"Time In"),l.a.createElement("th",null,"Status Updated"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",{className:"bg-white hover"},e.bellmen.map((function(t,a){return l.a.createElement(E,{key:a,click:function(){return e.click(a)},active:t.active,name:t.name,position:t.position,timeIn:t.timeIn,statusUpdated:t.statusUpdated,status:t.status})})))),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-secondary m-3",onClick:function(){return e.staffButtonClick("startBreak")},disabled:t("startBreak",e.status)},"Start Break"),l.a.createElement("button",{className:"btn btn-secondary m-3",onClick:function(){return e.staffButtonClick("endBreak")},disabled:t("endBreak",e.status)},"End Break"),l.a.createElement("button",{className:"btn btn-secondary m-3",onClick:function(){return e.staffButtonClick("exitQueue")},disabled:t("exitQueue",e.status),hidden:a("exitQueue",e.status)},"Exit Queue"),l.a.createElement("button",{className:"btn btn-secondary m-3",onClick:function(){return e.staffButtonClick("enterQueue")},hidden:a("enterQueue",e.status)},"Enter Queue"),l.a.createElement("button",{className:"btn btn-secondary m-3",onClick:function(){return e.staffButtonClick("clockOut")},disabled:t("clockOut",e.status)},"Clock Out"))))},h=function(e){return l.a.createElement("tr",{className:"text-capitalize",onClick:e.staffListClick,active:e.active},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.position))},b=function(e){return l.a.createElement("div",{className:"modal",id:"staffModal"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h2",null,"Staff")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"bg-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Position"))),l.a.createElement("tbody",{className:"bg-white hover"},e.staff.map((function(t,a){return l.a.createElement(h,{key:a,name:t.name,position:t.position,staffListClick:function(){return e.staffListClick(a)},active:t.active})})))),l.a.createElement("h4",{className:"text-danger text-center"},e.clockInError)),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-success form-control",onClick:function(){return e.clockIn()},"data-dismiss":"modal"},"Clock In")))))},v=function(e){return l.a.createElement("section",{className:e.class},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"display-3 text-center"},"Staff"),l.a.createElement("hr",null),l.a.createElement("button",{className:"btn btn-primary",id:"clockInBtn","data-toggle":"modal","data-target":"#staffModal"},"Clock In"),l.a.createElement(p,{className:e.className,bellmen:e.bellmen,click:e.employeeClick,status:e.status,staffButtonClick:e.staffButtonClick}),l.a.createElement(b,{staff:e.staff,staffListClick:e.staffListClick,clockIn:e.clockIn,clockInError:e.clockInError})))},N=function e(t,a){Object(m.a)(this,e),this.name=t,this.position=a,this.status="Available",this.active="false",this.fronts=0,this.timeIn=(new Date).toLocaleString(),this.statusUpdated=(new Date).toLocaleString()},g=function(e){for(var t=null,a=!1,n=0;n<e.bellmen.length;n++)"Available"!==e.bellmen[n].status&&"Busy"!==e.bellmen[n].status||(a=!0);return!1===a&&(t=l.a.createElement("p",{className:"text-center"},"*No available bellmen")),l.a.createElement("div",null,l.a.createElement("div",{className:"modal",id:"assignModal"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h2",{className:"modal-title"},"Assign Front"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("table",{className:"table text-capitalize"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",{className:"hover"},e.bellmen.map((function(t,a){return"Available"===t.status||"Busy"===t.status?l.a.createElement("tr",{key:a,onClick:function(){return e.bellmanClick(a)},active:t.active},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.status)):null})))),t,l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-success m-3",onClick:function(){return e.assignBtn("assign")},"data-dismiss":"modal"},"Assign"),l.a.createElement("button",{className:"btn btn-danger m-3","data-dismiss":"modal","data-toggle":"modal","data-target":"#confirmCancelModal"},"Cancel Front"),l.a.createElement("button",{className:"btn btn-secondary",id:"editBtn","data-dismiss":"modal","data-toggle":"modal","data-target":"#editModal"},"Edit")))))),l.a.createElement("div",{className:"modal",id:"confirmCancelModal"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-body text-center"},l.a.createElement("h1",{className:"m-5"},"Are you sure you want to cancel this front?"),l.a.createElement("button",{className:"btn btn-lg btn-success m-3",onClick:e.confirmCancel,"data-dismiss":"modal"},"Yes"),l.a.createElement("button",{className:"btn btn-lg btn-danger m-3","data-dismiss":"modal"},"No"))))))},k=function(e){return l.a.createElement("form",{id:"frontForm"},l.a.createElement("div",{className:"modal",id:"frontModal"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h2",{className:"modal-title"},"Add Front"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("label",{htmlFor:"#typeRadios"},"Request Type:"),l.a.createElement("div",{id:"typeRadios"},l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"checkInRadio",name:"frontType",value:"Check In",onClick:function(){return e.typeSelect("Check In")}}),"Check In")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"checkOutRadio",name:"frontType",value:"Check Out",onClick:function(){return e.typeSelect("Check Out")}}),"Check Out")),l.a.createElement("p",{className:"text-danger"},e.frontInputs.typeError)),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"frontRoom"},"Room:"),l.a.createElement("input",{type:"number",className:"form-control",id:"frontRoom",placeholder:"Room #",onChange:function(t){return e.frontInputsHandler("room",t.target.value)},value:e.frontInputs.room}),l.a.createElement("p",{className:"text-danger"},e.frontInputs.roomError))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"frontName"},"Guest Name:"),l.a.createElement("input",{type:"text",className:"form-control",id:"frontName",placeholder:"Last Name",onChange:function(t){return e.frontInputsHandler("name",t.target.value)},value:e.frontInputs.name}),l.a.createElement("p",{className:"text-danger"},e.frontInputs.nameError)))),l.a.createElement("div",{hidden:"Check In"!==e.frontInputs.type},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"ticketNumber"},"Ticket:"),l.a.createElement("input",{type:"text",className:"form-control",id:"ticketNumber",placeholder:"Ticket #",onChange:function(t){return e.frontInputsHandler("ticket",t.target.value)}}),l.a.createElement("p",{className:"text-danger"},e.frontInputs.ticketError))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"#numBags"},"Number of Bags:"),l.a.createElement("input",{type:"number",className:"form-control",id:"numBags",min:"1",onChange:function(t){return e.frontInputsHandler("bags",t.target.value)}}),l.a.createElement("p",{className:"text-danger"},e.frontInputs.bagsError))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"frontComment"},"Comment:"),l.a.createElement("textarea",{className:"form-control",id:"frontComment",rows:"2",placeholder:"Comment...",onChange:function(t){return e.frontInputsHandler("comment",t.target.value)},value:e.frontInputs.comment})))),l.a.createElement("label",{htmlFor:"#membershipRadios"},"Membership:"),l.a.createElement("div",{id:"membershipRadios"},l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"eliteRadio",name:"frontElite",value:"Elite",onChange:function(t){return e.frontInputsHandler("elite",t.target.value)}}),"Elite")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"platinumRadio",name:"frontElite",value:"Platinum",onChange:function(t){return e.frontInputsHandler("elite",t.target.value)}}),"Platinum")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"titaniumRadio",name:"frontElite",value:"Titanium",onChange:function(t){return e.frontInputsHandler("elite",t.target.value)}}),"Titanium")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"ambassadorRadio",name:"frontElite",value:"Ambassador",onChange:function(t){return e.frontInputsHandler("elite",t.target.value)}}),"Ambassador")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",name:"frontElite",value:"",onChange:function(t){return e.frontInputsHandler("elite",t.target.value)},defaultChecked:!0}),"None")))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-success form-control",onClick:function(){return e.click()},"data-dismiss":"modal"},"Dispatch"))))))},C=function(e){var t="modal",a=null;""===e.front.room&&(t="",a=l.a.createElement("p",{className:"text-danger"},"*Required"));var n=null;""===e.front.name&&(t="",n=l.a.createElement("p",{className:"text-danger"},"*Required"));var r=null;""===e.front.ticket&&"Check In"===e.front.type&&(t="",r=l.a.createElement("p",{className:"text-danger"},"*Required"));var c=null;""===e.front.bags&&"Check In"===e.front.type&&(t="",c=l.a.createElement("p",{className:"text-danger"},"*Required"));var s=null;return s="Check In"===e.front.type?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"ticketNumber"},"Ticket:"),l.a.createElement("input",{type:"text",className:"form-control",id:"ticketNumber",value:e.front.ticket,onChange:function(t){return e.editInputs("ticket",t.target.value)}}),r)),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"#numBags"},"Number of Bags:"),l.a.createElement("input",{type:"number",className:"form-control",id:"numBags",min:"1",value:e.front.bags,onChange:function(t){return e.editInputs("bags",t.target.value)}}),c))):null,l.a.createElement("div",{className:"modal",id:"editModal"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h1",{className:"modal-title"},"Edit Front"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"checkInRadio",name:"frontType",value:"Check In",checked:"Check In"===e.front.type,onChange:function(){return e.editType("Check In")}}),"Check In")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"checkOutRadio",name:"frontType",value:"Check Out",checked:"Check Out"===e.front.type,onChange:function(){return e.editType("Check Out")}}),"Check Out")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"#editRoom"},"Room:"),l.a.createElement("input",{className:"form-control",type:"number",id:"editRoom",value:e.front.room||"",onChange:function(t){return e.editInputs("room",t.target.value)}}),a)),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"#editName"},"Name:"),l.a.createElement("input",{className:"form-control",type:"text",id:"editName",value:e.front.name||"",onChange:function(t){return e.editInputs("name",t.target.value)}}),n))),s,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"#editComment"},"Comment:"),l.a.createElement("textarea",{className:"form-control",id:"editComment",value:e.front.comment,onChange:function(t){return e.editInputs("comment",t.target.value)}})),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"eliteRadio",name:"frontElite",value:"Elite",checked:"Elite"===e.front.eliteStatus,onChange:function(t){return e.editInputs("elite",t.target.value)}}),"Elite")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"platinumRadio",name:"frontElite",value:"Platinum",checked:"Platinum"===e.front.eliteStatus,onChange:function(t){return e.editInputs("elite",t.target.value)}}),"Platinum")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"titaniumRadio",name:"frontElite",value:"Titanium",checked:"Titanium"===e.front.eliteStatus,onChange:function(t){return e.editInputs("elite",t.target.value)}}),"Titanium")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",id:"ambassadorRadio",name:"frontElite",value:"Ambassador",checked:"Ambassador"===e.front.eliteStatus,onChange:function(t){return e.editInputs("elite",t.target.value)}}),"Ambassador")),l.a.createElement("div",{className:"form-check-inline"},l.a.createElement("label",{className:"form-check-label"},l.a.createElement("input",{type:"radio",className:"form-check-input",name:"frontElite",value:"",checked:""===e.front.eliteStatus,onChange:function(t){return e.editInputs("elite",t.target.value)}}),"None"))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-success form-control","data-dismiss":t,onClick:function(){return e.putFronts()}},"Done")))))},y=function(e){var t=0;e.fronts.forEach((function(e){"Pending"===e.status&&t++}));var a=0;return e.fronts.forEach((function(e){"Assigned"===e.status&&a++})),l.a.createElement("section",{className:e.class},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"display-3 text-center"},"Service Requests"),l.a.createElement("hr",null),l.a.createElement("button",{className:"btn btn-primary",id:"addFrontBtn","data-toggle":"modal","data-target":"#frontModal"},"Add Request"),l.a.createElement("div",{hidden:0===t},l.a.createElement("h1",{className:"mt-3"},"Pending"),l.a.createElement("table",{className:"table table-hover text-capitalize"},l.a.createElement("thead",{className:"bg-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Time"),l.a.createElement("th",null,"Room"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Ticket"),l.a.createElement("th",null,"Bags"),l.a.createElement("th",null,"Comment"),l.a.createElement("th",null,"Membership"))),l.a.createElement("tbody",{className:"bg-white hover"},e.fronts.map((function(t,a){var n=Math.floor((e.currentTime.getTime()-new Date(t.time).getTime())/1e3/60);return n<0&&(n=0),"Pending"===t.status?l.a.createElement("tr",{key:t.time,"data-toggle":"modal","data-target":"#assignModal",onClick:function(){return e.frontClick(a)}},l.a.createElement("td",{id:t.time},n),l.a.createElement("td",null,t.room),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.type),l.a.createElement("td",null,t.ticket),l.a.createElement("td",null,t.bags),l.a.createElement("td",null,t.comment),l.a.createElement("td",null,t.eliteStatus)):null}))))),l.a.createElement("div",{hidden:0===a},l.a.createElement("h1",{className:"mt-3"},"Assigned"),l.a.createElement("table",{className:"table table-hover text-capitalize hover"},l.a.createElement("thead",{className:"bg-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Time"),l.a.createElement("th",null,"Bellman"),l.a.createElement("th",null,"Room"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Ticket"),l.a.createElement("th",null,"Bags"),l.a.createElement("th",null,"Comment"),l.a.createElement("th",null,"Membership"))),l.a.createElement("tbody",{className:"bg-white"},e.fronts.map((function(t,a){if("Assigned"===t.status){var n=Math.floor((e.currentTime.getTime()-new Date(t.time).getTime())/1e3/60);return n<0&&(n=0),l.a.createElement("tr",{key:t.time,"data-toggle":"modal","data-target":"#completeModal",onClick:function(){return e.frontClick(a)}},l.a.createElement("td",{id:t.time},n),l.a.createElement("td",null,t.bellman),l.a.createElement("td",null,t.room),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.type),l.a.createElement("td",null,t.ticket),l.a.createElement("td",null,t.bags),l.a.createElement("td",null,t.comment),l.a.createElement("td",null,t.eliteStatus))}return null}))))),l.a.createElement("div",{className:"modal",id:"completeModal"},l.a.createElement("div",{className:"modal-dialog p-5"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h1",{className:"modal-title"},"Complete?")),l.a.createElement("div",{className:"modal-body text-center"},l.a.createElement("button",{className:"btn btn-success form-control my-1",onClick:e.confirmCancel,"data-dismiss":"modal"},"Yes"),l.a.createElement("button",{className:"btn btn-danger form-control my-1","data-dismiss":"modal"},"No"),l.a.createElement("button",{className:"btn btn-info form-control my-1",onClick:function(){return e.assignFront("pending")},"data-dismiss":"modal"},"Pending"),l.a.createElement("button",{className:"btn btn-secondary form-control my-1","data-dismiss":"modal","data-toggle":"modal","data-target":"#editModal"},"Edit"))))),l.a.createElement(k,{click:e.click,typeSelect:e.typeSelect,frontInputs:e.frontInputs,frontInputsHandler:e.frontInputsHandler}),l.a.createElement(g,{bellmen:e.bellmen,bellmanClick:e.bellmanClick,assignBtn:e.assignFront,confirmCancel:e.confirmCancel}),l.a.createElement(C,{front:e.activeFront,editInputs:e.editInputs,editType:e.editType,click:e.editClick,putFronts:e.putFronts})))},I=function e(t,a,n,l,r,c,s){Object(m.a)(this,e),this.type=t,this.room=a,this.name=n,this.ticket=l,this.bags=r,this.comment=c,this.eliteStatus=s,this.date=(new Date).toLocaleDateString(),this.time=(new Date).toLocaleString(),this.bellman=null,this.status="Pending",this.timeCompleted=null,this.timeElapsed=null},S=function(e){return l.a.createElement("section",{className:e.class},l.a.createElement("h1",{className:"display-3 text-center"},"Completed Fronts"),l.a.createElement("hr",null),l.a.createElement("div",{className:"container my-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"#startDate"},"Start Date:"),l.a.createElement("input",{className:"form-control",id:"startDate",type:"date",value:e.completedFilters.startDate||"",onChange:function(t){return e.setCompletedFilters("startDate",t.target.value)}}),l.a.createElement("p",{className:"text-danger"},e.dateError))),l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"#endDate"},"End Date:"),l.a.createElement("input",{className:"form-control",id:"endDate",type:"date",value:e.completedFilters.endDate||"",onChange:function(t){return e.setCompletedFilters("endDate",t.target.value)}}))),l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"#guestName"},"Guest Name:"),l.a.createElement("input",{className:"form-control",id:"guestName",type:"text",value:e.completedFilters.guestName||"",onChange:function(t){return e.setCompletedFilters("guestName",t.target.value)}}))),l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"#bellman"},"Bellman:"),l.a.createElement("input",{className:"form-control",id:"bellman",type:"text",value:e.completedFilters.bellman||"",onChange:function(t){return e.setCompletedFilters("bellman",t.target.value)}})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{className:"btn btn-success form-control",onClick:function(){return e.searchCompleted()}},"Search")),l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{className:"btn btn-primary form-control",hidden:e.filtered,onClick:function(){return e.resetFilter()}},"Reset")))),l.a.createElement("table",{className:"table table-striped text-capitalize"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"hover"},l.a.createElement("th",{onClick:function(){return e.sort("time")}},"Requested"),l.a.createElement("th",{onClick:function(){return e.sort("timeCompleted")}},"Completed"),l.a.createElement("th",{onClick:function(){return e.sort("timeElapsed")}},"Time"),l.a.createElement("th",{onClick:function(){return e.sort("bellman")}},"Bellman"),l.a.createElement("th",{onClick:function(){return e.sort("type")}},"Type"),l.a.createElement("th",{onClick:function(){return e.sort("room")}},"Room"),l.a.createElement("th",{onClick:function(){return e.sort("name")}},"Name"),l.a.createElement("th",{onClick:function(){return e.sort("ticket")}},"Ticket"),l.a.createElement("th",{onClick:function(){return e.sort("bags")}},"Bags"),l.a.createElement("th",{onClick:function(){return e.sort("eliteStatus")}},"Membership"))),l.a.createElement("tbody",null,e.fronts.map((function(e){return l.a.createElement("tr",{key:e.time},l.a.createElement("td",null,e.time.toLocaleString()),l.a.createElement("td",null,e.timeCompleted.toLocaleString()),l.a.createElement("td",null,e.timeElapsed),l.a.createElement("td",null,e.bellman),l.a.createElement("td",null,e.type),l.a.createElement("td",null,e.room),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.ticket),l.a.createElement("td",null,e.bags),l.a.createElement("td",null,e.eliteStatus))})))),l.a.createElement("h4",{className:"text-center text-danger",hidden:0!==e.fronts.length},"*No completed fronts available"))},F=function(e){return l.a.createElement("nav",null,l.a.createElement("nav",{className:"navbar navbar-expand-md bg-dark navbar-dark fixed-top"},l.a.createElement("span",{className:"navbar-brand"},l.a.createElement("h3",null,"Bellstand App")),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarContent"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarContent"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{className:"nav-link btn",onClick:function(){return e.click("fronts")}},"Requests")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{className:"nav-link btn",onClick:function(){return e.click("timeClock")}},"Time Clock")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{className:"nav-link btn",onClick:function(){return e.click("completed")}},"Completed")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{className:"nav-link btn btn-primary text-white","data-toggle":"modal","data-target":"#manageStaffModal"},"Manage Staff")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("button",{className:"nav-link btn btn-success text-white",onClick:function(){"d-none"===e.frontsClass&&e.click("fronts")},"data-toggle":"modal","data-target":"#frontModal"},"Add Request"))))))},x=a(18),w=a.n(x).a.create({baseURL:"https://bellstand-app.firebaseio.com/"}),B=a(5),O=function(e){var t=Object(n.useState)(""),a=Object(B.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),o=Object(B.a)(s,2),m=o[0],i=o[1],u=Object(n.useState)(""),d=Object(B.a)(u,2),f=d[0],E=d[1];return l.a.createElement("div",{className:"modal",id:"manageStaffModal"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h2",{className:"modal-title"},"Manage Staff")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row my-3"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{className:"form-control",type:"text",placeholder:"Last Name",value:r,onChange:function(e){return c(e.target.value)}})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{className:"form-control",type:"text",placeholder:"First Name",value:m,onChange:function(e){return i(e.target.value)}})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("select",{className:"form-control",onChange:function(e){return E(e.target.value)}},l.a.createElement("option",{value:"-1"},"Choose Position"),l.a.createElement("option",null,"Bellman"),l.a.createElement("option",null,"Bell Captain"),l.a.createElement("option",null,"Other"))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("button",{className:"btn btn-success form-control",onClick:function(){return e.postNewEmployee(r,m,f)}},"Add")))),l.a.createElement("table",{className:"table text-capitalize"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Employee"),l.a.createElement("th",null,"Position"))),l.a.createElement("tbody",null,e.staff.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.position),l.a.createElement("td",null,l.a.createElement("button",{className:"btn text-lg",onClick:function(){return e.deleteStaff(a)}},"\xd7")))}))))),l.a.createElement("div",{className:"modal-footer"}))))},T=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={currentTime:new Date,appMounted:!1,frontsClass:"",timeClockClass:"",completedClass:"",allStaff:[],staffList:[],clockInError:"",bellmen:[],activeIndex:"",activeStatus:"",fronts:[],activeFront:"",prevFrontState:"",frontInputs:{type:"",room:"",name:"",ticket:"",bags:"",comment:"",elite:"",typeError:"",roomError:"",nameError:"",ticketError:"",bagsError:""},completedFronts:[],completedFrontsFiltered:!0,allCompletedFronts:[],completedSort:"",completedFilters:{startDate:"",endDate:"",guestName:"",bellman:""},dateError:"",aveTime:"N/A"},a.updateStaffList=function(){for(var e=Object(o.a)(a.state.bellmen),t=Object(o.a)(a.state.allStaff),n=0;n<e.length;n++)for(var l=0;l<t.length;l++)e[n].name===t[l].name&&(t.splice(l,1),l--);a.setState({staffList:t})},a.putBellmen=function(){var e=Object(o.a)(a.state.bellmen);e.forEach((function(e){e.active="false"})),w.put("/active-staff.json",e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},a.putFronts=function(){w.put("/current-fronts.json",a.state.fronts).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},a.postNewEmployee=function(e,t,n){var l=t+" "+e;if(" "!==l&&n){var r=a.state.allStaff,c={name:l,position:n};r.push(c),a.setState({allStaff:r}),a.updateStaffList(),w.post("/staff.json",{name:l.toLowerCase(),position:n.toLowerCase()}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},a.deleteStaffHandler=function(e){var t=a.state.allStaff;t.splice(e,1),a.setState({allStaff:t}),a.updateStaffList(),w.put("./staff.json",t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},a.showTable=function(e){return 0===e.length?"d-none":"d-block"},a.navClickHandler=function(e){var t;"fronts"===e&&(t=a.toggle(a.state.frontsClass),a.setState({frontsClass:t})),"timeClock"===e&&(t=a.toggle(a.state.timeClockClass),a.setState({timeClockClass:t})),"completed"===e&&(t=a.toggle(a.state.completedClass),a.setState({completedClass:t}))},a.toggle=function(e){return""===e?"d-none":""},a.bellmanInputsHandler=function(e,t){var n=e,l=t,r=a.state.bellmanInputs;"lastName"===n&&(r.lastName=l),"firstName"===n&&(r.firstName=l),"position"===n&&(r.position=l),a.setState({bellmanInputs:r})},a.isValid=function(e){return""!==e},a.clockInHandler=function(){for(var e,t=Object(o.a)(a.state.staffList),n=Object(o.a)(a.state.bellmen),l="*Choose an Employee",r=0;r<t.length;r++)"true"===t[r].active&&(e=new N(t[r].name,t[r].position),n.push(e),t.splice(r,1),l="");"*Choose an Employee"===l?(document.getElementById("clockInBtn").click(),a.setState({clockInError:l})):(a.setState({bellmen:n,staffList:t,clockInError:l}),w.put("/active-staff.json",n).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})))},a.staffListClickHandler=function(e){var t=Object(o.a)(a.state.staffList);t.forEach((function(e){e.active="false"})),t[e].active="true",a.setState({staffList:t})},a.employeeClickHandler=function(e){a.state.bellmen.forEach((function(e){e.active="false"}));var t=Object(o.a)(a.state.bellmen);t[e].active="true";var n=e,l=a.state.bellmen[e].status;a.setState({bellmen:t,activeIndex:n,activeStatus:l})},a.statusHandler=function(e){var t;switch(e){case"startBreak":t="On Break";break;case"endBreak":t="Available";break;case"exitQueue":t="Away";break;case"enterQueue":t="Available";break;case"busy":t="Busy";break;case"clockOut":return void a.clockOutBellman()}var n=a.state.activeIndex,l=Object(o.a)(a.state.bellmen);l[n].status=t,l[n].statusUpdated=(new Date).toLocaleString();var r=t;a.setState({bellmen:l,activeStatus:r,activeIndex:n}),a.putBellmen()},a.clockOutBellman=function(){var e=a.state.activeIndex,t=Object(o.a)(a.state.bellmen),n=t.splice(e,1);w.put("/active-staff.json",t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));var l=Object(o.a)(a.state.staffList);l.push({name:n[0].name,position:n[0].position});a.setState({bellmen:t,staffList:l,activeStatus:"",activeIndex:""})},a.frontInputsHandler=function(e,t){var n=a.state.frontInputs;"room"===e&&(n.room=t),"name"===e&&(n.name=t),"ticket"===e&&(n.ticket=t),"comment"===e&&(n.comment=t),"elite"===e&&(n.elite=t),"bags"===e&&(n.bags=t),a.setState({frontInputs:n})},a.editTypeHandler=function(e){var t=a.state.activeFront,n=e;t.type=n,"Check Out"===t.type&&(t.ticket=""),a.setState({activeFront:t})},a.editInputsHandler=function(e,t){var n=a.state.activeFront;"room"===e&&(n.room=t),"name"===e&&(n.name=t),"ticket"===e&&(n.ticket=t),"comment"===e&&(n.comment=t),"elite"===e&&(n.eliteStatus=t),"bags"===e&&(n.bags=t),a.setState({activeFront:n})},a.validate=function(e){return""===e.type||""===e.room||""===e.name||"Check In"===e.type&&(""===e.ticket||""===e.bags)},a.addFrontHandler=function(){var e=a.state.frontInputs;if(a.validate(e))return""===e.type&&(e.typeError="*Required"),""===e.room&&(e.roomError="*Required"),""===e.name&&(e.nameError="*Required"),"Check In"===e.type&&(""===e.ticket&&(e.ticketError="*Required"),""===e.bags&&(e.bagsError="*Required")),a.setState({frontInputs:e}),void document.getElementById("addFrontBtn").click();var t=new I(e.type,e.room,e.name.toLowerCase(),e.ticket,e.bags,e.comment,e.elite),n=a.state.fronts;n.push(t),a.setState({fronts:n}),a.putFronts(),e={type:"",room:"",name:"",ticket:"",bags:"",comment:"",elite:"",typeError:"",roomError:"",nameError:"",ticketError:"",bagsError:""},a.setState({frontInputs:e}),document.getElementById("frontForm").reset()},a.typeSelectHandler=function(e){var t=a.state.frontInputs;t.type=e,a.setState({frontInputs:t})},a.frontClickHandler=function(e){var t=Object(o.a)(a.state.fronts)[e],n=Object(o.a)(a.state.bellmen);n.forEach((function(e){e.active="false"})),a.setState({bellmen:n,activeFront:t,activeIndex:"",activeStatus:""})},a.assignHandler=function(e){var t=a.state.activeFront;if(a.validate(t))document.getElementById("editBtn").click();else{var n=a.state.fronts,l=Object(o.a)(a.state.bellmen),r=l[a.state.activeIndex],c=n.indexOf(t),s=[];l.forEach((function(e){s.push(e.name)}));var m=s.indexOf(t.bellman);if(""!==a.state.activeIndex&&"assign"===e)n.splice(c,1),t.status="Assigned",t.bellman=r.name,n.push(t),l[a.state.activeIndex].fronts++,l[a.state.activeIndex].status="Busy",l.forEach((function(e){e.active="false"})),a.setState({activeFront:t,fronts:n,bellmen:l,activeStatus:""});else{if("pending"!==e)return void alert("Select a bellman to assign");n.splice(c,1),t.status="Pending",t.bellman="",n.push(t),l[m].fronts--,0===l[m].fronts&&(l[m].status="Available"),a.setState({activeFront:t,fronts:n,bellmen:l})}a.putFronts(),a.putBellmen()}},a.completeFrontHandler=function(){var e=a.state.activeFront,t=a.state.fronts,n=t.indexOf(e),l=a.state.completedFronts;if(t.splice(n,1),"Assigned"===e.status){var r=Object(o.a)(a.state.bellmen),c=[];r.forEach((function(e){c.push(e.name)}));var s=c.indexOf(e.bellman),m=r[s];m.fronts--,"Busy"===m.status&&0===m.fronts&&(m.status="Available"),r[s]=m,e.timeCompleted=new Date,e.timeElapsed=Math.floor((e.timeCompleted.getTime()-new Date(e.time).getTime())/1e3/60),e.timeCompleted=e.timeCompleted.toLocaleString(),e.status="Completed",l.push(e),a.setState({bellmen:r,completedFronts:l}),a.aveTimeHandler(),w.post("/completed-fronts.json",e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}a.setState({fronts:t}),a.putFronts(),a.putBellmen()},a.sortBy=function(e){var t=1,n=a.state.completedSort;return e===n?(t=-1,n=""):n=e,a.setState({completedSort:n}),function(a,n){return(a[e]<n[e]?-1:a[e]>n[e]?1:0)*t}},a.sortCompletedHandler=function(e){var t=a.state.completedFronts;t.sort(a.sortBy(e)),a.setState({completedFronts:t})},a.aveTimeHandler=function(){var e,t=0,n=0,l=a.state.completedFronts,r=(new Date).toLocaleDateString();l.forEach((function(e){console.log(e,r),e.date===r&&(t+=e.timeElapsed,n++)})),e=Math.floor(t/n),a.setState({aveTime:e})},a.setCompletedFilters=function(e,t){switch(e){case"startDate":a.setState({completedFilters:Object(s.a)({},a.state.completedFilters,{startDate:t})});break;case"endDate":a.setState({completedFilters:Object(s.a)({},a.state.completedFilters,{endDate:t})});break;case"guestName":a.setState({completedFilters:Object(s.a)({},a.state.completedFilters,{guestName:t})});break;case"bellman":a.setState({completedFilters:Object(s.a)({},a.state.completedFilters,{bellman:t})});break;default:return}},a.parseDate=function(e){var t=e.split(/\D/);return new Date(t[0],--t[1],t[2])},a.searchCompleted=function(){var e=[],t=a.state.allCompletedFronts,n=a.state.completedFilters,l="",r=a.parseDate(n.startDate),c=a.parseDate(n.endDate);if(n.startDate&&!n.endDate&&(l="*Start date and end date required",e=t),n.endDate&&!n.startDate&&(l="*Start date and end date required",e=t),n.startDate&&n.endDate){for(var s,o=0;o<t.length;o++)(s=new Date(t[o].date))>=r&&s<=c&&e.push(t[o]);t=e}if(n.guestName){e=[];for(var m=0;m<t.length;m++)t[m].name.includes(n.guestName.toLowerCase())&&e.push(t[m]);t=e}if(n.bellman){e=[];for(var i=0;i<t.length;i++)t[i].bellman.includes(n.bellman.toLowerCase())&&e.push(t[i]);t=e}a.setState({completedFronts:e,completedFrontsFiltered:!1,completedFilters:{startDate:"",endDate:"",guestName:"",bellman:""},dateError:l})},a.resetCompletedFilter=function(){a.setState({completedFrontsFiltered:!0,completedFronts:a.state.allCompletedFronts,dateError:""})},a}return Object(f.a)(t,e),Object(i.a)(t,[{key:"setCurrentTime",value:function(){this.setState({currentTime:new Date})}},{key:"componentDidMount",value:function(){var e=this;this.setCurrentTime(),setInterval((function(){return e.setCurrentTime()}),3e3),w.get("/current-fronts.json").then((function(t){var a=[],n=t.data;for(var l in n){if("bags"===l)return a.push(n),void e.setState({fronts:a});n.hasOwnProperty(l)&&a.push(n[l])}e.setState({fronts:a})})).catch((function(e){return console.log(e)})),w.get("/completed-fronts.json").then((function(t){var a=[],n=t.data;for(var l in n)n.hasOwnProperty(l)&&a.push(n[l]);e.setState({completedFronts:a,allCompletedFronts:a}),e.aveTimeHandler()})),w.get("/active-staff.json").then((function(t){var a=Object(o.a)(e.state.bellmen),n=t.data;for(var l in n)n.hasOwnProperty(l)&&a.push(n[l]);e.setState({bellmen:a})})).catch((function(e){return console.log(e)})),w.get("/staff.json").then((function(t){var a=[],n=t.data;for(var l in n)n.hasOwnProperty(l)&&(n[l].active="false",n[l].id=[l],a.push(n[l]));e.setState({staffList:a,allStaff:a}),setTimeout(e.updateStaffList,1e3)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",{id:"aveTime"},l.a.createElement("h2",null,"Ave Time: ",l.a.createElement("br",null),this.state.aveTime)),l.a.createElement(F,{click:this.navClickHandler,frontsClass:this.state.frontsClass}),l.a.createElement(y,{class:this.state.frontsClass,currentTime:this.state.currentTime,activeFront:this.state.activeFront,tableClass:this.showTable,fronts:this.state.fronts,bellmen:this.state.bellmen,validators:this.state.validators,frontInputs:this.state.frontInputs,click:this.addFrontHandler,frontClick:this.frontClickHandler,typeSelect:this.typeSelectHandler,frontInputsHandler:this.frontInputsHandler,bellmanClick:this.employeeClickHandler,assignFront:this.assignHandler,confirmCancel:this.completeFrontHandler,editInputs:this.editInputsHandler,editType:this.editTypeHandler,putFronts:this.putFronts}),l.a.createElement(v,{class:this.state.timeClockClass,className:this.showTable(this.state.bellmen),bellmen:this.state.bellmen,status:this.state.activeStatus,bellmanInputs:this.state.bellmanInputs,bellmanInputsHandler:this.bellmanInputsHandler,staffListClick:this.staffListClickHandler,clockIn:this.clockInHandler,staffButtonClick:this.statusHandler,employeeClick:this.employeeClickHandler,staff:this.state.staffList,clockInError:this.state.clockInError}),l.a.createElement(S,{class:this.state.completedClass,fronts:this.state.completedFronts,sort:this.sortCompletedHandler,completedFilters:this.state.completedFilters,setCompletedFilters:this.setCompletedFilters,searchCompleted:this.searchCompleted,filtered:this.state.completedFrontsFiltered,resetFilter:this.resetCompletedFilter,startDateError:this.state.startDateError,dateError:this.state.dateError}),l.a.createElement(O,{staff:this.state.allStaff,postNewEmployee:this.postNewEmployee,deleteStaff:this.deleteStaffHandler}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.70866381.chunk.js.map